version: '3.4'

services:

  svelte:

    # â˜ƒï¸
    build:
      args:
        - NODE_ENV=development

        # don't build the app
        - BUILD_COMMAND=

    # ğŸŒ³
    environment:
      NODE_ENV: development

    # ğŸ”—
    ports:
      # this is for Vite HMR
      - 24678:24678

    # ğŸ‘»
    restart: "no"

    # ğŸ“‚
    volumes:
      - ./svelte:/app

    # in development mode we mount the source folder as a volume
    # and download the depencencies there so they can be parsed
    # by the IDE
    # ğŸš€
    command: >-
      sh -c "
        yarn && yarn run dev
      "