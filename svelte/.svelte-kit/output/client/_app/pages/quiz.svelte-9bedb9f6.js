var t=Object.defineProperty,e=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=(e,a,r)=>a in e?t(e,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[a]=r;import{N as l,S as i,i as u,s as c,e as f,t as m,k as p,c as d,a as $,g,d as h,n as v,b as _,f as b,G as E,h as O,B as y,r as N,u as I,v as w,A as P,O as x,P as S,p as T,I as q,D as j,Q as A,H as R,j as k,m as C,o as D,R as G,w as L,T as M,U as V,M as H,V as J}from"../chunks/vendor-8a4ca113.js";import{r as U}from"../chunks/singletons-bb9012b7.js";const F=async function(t,e){return U.goto(t,e,[])};const B=t=>t?null:"Required",Q=t=>l.validate(t)?null:"Must be a valid email address",X=(...t)=>e=>t.reduce(((t,a)=>t||a(e)),null);function Z(t){let e,a,r=[{id:t[0]},{class:"form-control"},t[4]],n={};for(let s=0;s<r.length;s+=1)n=P(n,r[s]);return{c(){e=f("h3"),a=f("textarea"),this.h()},l(t){e=d(t,"H3",{});var r=$(e);a=d(r,"TEXTAREA",{id:!0,class:!0}),$(a).forEach(h),r.forEach(h),this.h()},h(){S(a,n)},m(t,r){b(t,e,r),E(e,a)},p(t,e){S(a,n=T(r,[1&e&&{id:t[0]},{class:"form-control"},16&e&&t[4]]))},i:q,o:q,d(t){t&&h(e)}}}function z(t){let e,a,r;const n=t[6].default,s=j(n,t,t[5],null);let o=[{id:t[0]},{class:"form-control"},t[4]],l={};for(let i=0;i<o.length;i+=1)l=P(l,o[i]);return{c(){e=f("h2"),a=f("select"),s&&s.c(),this.h()},l(t){e=d(t,"H2",{});var r=$(e);a=d(r,"SELECT",{id:!0,class:!0});var n=$(a);s&&s.l(n),n.forEach(h),r.forEach(h),this.h()},h(){S(a,l)},m(t,n){b(t,e,n),E(e,a),s&&s.m(a,null),l.multiple&&A(a,l.value),r=!0},p(t,e){s&&s.p&&(!r||32&e)&&R(s,n,t,t[5],e,null,null),S(a,l=T(o,[(!r||1&e)&&{id:t[0]},{class:"form-control"},16&e&&t[4]])),17&e&&l.multiple&&A(a,l.value)},i(t){r||(w(s,t),r=!0)},o(t){N(s,t),r=!1},d(t){t&&h(e),s&&s.d(t)}}}function K(t){let e,a,r=[{id:t[0]},{type:"text"},{class:"form-control"},t[4]],n={};for(let s=0;s<r.length;s+=1)n=P(n,r[s]);return{c(){e=f("h1"),a=f("input"),this.h()},l(t){e=d(t,"H1",{});var r=$(e);a=d(r,"INPUT",{id:!0,type:!0,class:!0}),r.forEach(h),this.h()},h(){S(a,n)},m(t,r){b(t,e,r),E(e,a)},p(t,e){S(a,n=T(r,[1&e&&{id:t[0]},{type:"text"},{class:"form-control"},16&e&&t[4]]))},i:q,o:q,d(t){t&&h(e)}}}function W(t){let e,a,r,n,s,o,l,i,u,c;const P=[K,z,Z],x=[];function S(t,e){return"input"===t[3]?0:"select"===t[3]?1:"textarea"===t[3]?2:-1}return~(o=S(t))&&(l=x[o]=P[o](t)),{c(){e=f("div"),a=f("label"),r=m(t[1]),n=p(),s=f("div"),l&&l.c(),i=p(),u=f("div"),this.h()},l(o){e=d(o,"DIV",{class:!0});var c=$(e);a=d(c,"LABEL",{for:!0,class:!0});var f=$(a);r=g(f,t[1]),f.forEach(h),n=v(c),s=d(c,"DIV",{class:!0});var m=$(s);l&&l.l(m),i=v(m),u=d(m,"DIV",{"data-felte-reporter-dom-for":!0,class:!0}),$(u).forEach(h),m.forEach(h),c.forEach(h),this.h()},h(){_(a,"for",t[0]),_(a,"class","col-sm-2 col-form-label"),_(u,"data-felte-reporter-dom-for",t[2]),_(u,"class","error"),_(s,"class","col-sm-10"),_(e,"class","form-group row")},m(t,l){b(t,e,l),E(e,a),E(a,r),E(e,n),E(e,s),~o&&x[o].m(s,null),E(s,i),E(s,u),c=!0},p(t,[e]){(!c||2&e)&&O(r,t[1]),(!c||1&e)&&_(a,"for",t[0]);let n=o;o=S(t),o===n?~o&&x[o].p(t,e):(l&&(y(),N(x[n],1,1,(()=>{x[n]=null})),I()),~o?(l=x[o],l?l.p(t,e):(l=x[o]=P[o](t),l.c()),w(l,1),l.m(s,i)):l=null),(!c||4&e)&&_(u,"data-felte-reporter-dom-for",t[2])},i(t){c||(w(l),c=!0)},o(t){N(l),c=!1},d(t){t&&h(e),~o&&x[o].d()}}}function Y(t,e,a){let{$$slots:r={},$$scope:n}=e,{id:s}=e,{label:o}=e,{name:l=""}=e,{tag:i="input"}=e;return o=o||l.replace(/[A-Z]/g,(t=>`_${t.toLowerCase()}`)).replace(/[\-_]/g," ").replace(/^\s+/g,"").replace(/\s+$/g,"").replace(/\s+/g," ").replace(/(^\w{1})|(\s{1}\w{1})/g,(t=>t.toUpperCase())),s=s||`_survey_${l}`,t.$$set=t=>{a(4,e=P(P({},e),x(t))),"id"in t&&a(0,s=t.id),"label"in t&&a(1,o=t.label),"name"in t&&a(2,l=t.name),"tag"in t&&a(3,i=t.tag),"$$scope"in t&&a(5,n=t.$$scope)},e=x(e),[s,o,l,i,e,n,r]}class tt extends i{constructor(t){super(),u(this,t,Y,W,c,{id:0,label:1,name:2,tag:3})}}function et(t){let e,a;return{c(){e=f("div"),a=m(t[0]),this.h()},l(r){e=d(r,"DIV",{class:!0});var n=$(e);a=g(n,t[0]),n.forEach(h),this.h()},h(){_(e,"class","alert alert-danger")},m(t,r){b(t,e,r),E(e,a)},p(t,e){1&e&&O(a,t[0])},d(t){t&&h(e)}}}function at(t){let e,a,r,n,s,o,l,i;return{c(){e=f("option"),a=m("--- choose ---"),r=p(),n=f("option"),s=m("Male"),o=p(),l=f("option"),i=m("Female"),this.h()},l(t){e=d(t,"OPTION",{value:!0});var u=$(e);a=g(u,"--- choose ---"),u.forEach(h),r=v(t),n=d(t,"OPTION",{value:!0});var c=$(n);s=g(c,"Male"),c.forEach(h),o=v(t),l=d(t,"OPTION",{value:!0});var f=$(l);i=g(f,"Female"),f.forEach(h),this.h()},h(){e.__value="",e.value=e.__value,n.__value="male",n.value=n.__value,l.__value="female",l.value=l.__value},m(t,u){b(t,e,u),E(e,a),b(t,r,u),b(t,n,u),E(n,s),b(t,o,u),b(t,l,u),E(l,i)},d(t){t&&h(e),t&&h(r),t&&h(n),t&&h(o),t&&h(l)}}}function rt(t){let e,a,r,n,s,o,l,i,u,c,_,O,y,N,I,w,P;return{c(){e=f("option"),a=m("--- choose ---"),r=p(),n=f("option"),s=m("5 - Great!"),o=p(),l=f("option"),i=m("4 - Good"),u=p(),c=f("option"),_=m("3 - Average"),O=p(),y=f("option"),N=m("2 - Not so good"),I=p(),w=f("option"),P=m("1 - Let's pretend we don't know each other"),this.h()},l(t){e=d(t,"OPTION",{value:!0});var f=$(e);a=g(f,"--- choose ---"),f.forEach(h),r=v(t),n=d(t,"OPTION",{value:!0});var m=$(n);s=g(m,"5 - Great!"),m.forEach(h),o=v(t),l=d(t,"OPTION",{value:!0});var p=$(l);i=g(p,"4 - Good"),p.forEach(h),u=v(t),c=d(t,"OPTION",{value:!0});var b=$(c);_=g(b,"3 - Average"),b.forEach(h),O=v(t),y=d(t,"OPTION",{value:!0});var E=$(y);N=g(E,"2 - Not so good"),E.forEach(h),I=v(t),w=d(t,"OPTION",{value:!0});var x=$(w);P=g(x,"1 - Let's pretend we don't know each other"),x.forEach(h),this.h()},h(){e.__value="",e.value=e.__value,n.__value="5",n.value=n.__value,l.__value="4",l.value=l.__value,c.__value="3",c.value=c.__value,y.__value="2",y.value=y.__value,w.__value="1",w.value=w.__value},m(t,f){b(t,e,f),E(e,a),b(t,r,f),b(t,n,f),E(n,s),b(t,o,f),b(t,l,f),E(l,i),b(t,u,f),b(t,c,f),E(c,_),b(t,O,f),b(t,y,f),E(y,N),b(t,I,f),b(t,w,f),E(w,P)},d(t){t&&h(e),t&&h(r),t&&h(n),t&&h(o),t&&h(l),t&&h(u),t&&h(c),t&&h(O),t&&h(y),t&&h(I),t&&h(w)}}}function nt(t){let e,a,r,n,s,o,l,i,u,c,y,I,P,x,S,T,q,j,A,R,M,V,H,J,U,F,B,Q=JSON.stringify(t[3],void 0,2)+"",X=JSON.stringify(t[4],void 0,2)+"",Z=t[0]&&et(t);return r=new tt({props:{name:"name"}}),s=new tt({props:{name:"email_address"}}),l=new tt({props:{name:"age"}}),u=new tt({props:{name:"gender",tag:"select",$$slots:{default:[at]},$$scope:{ctx:t}}}),y=new tt({props:{name:"country"}}),P=new tt({props:{name:"experience_rating",tag:"select",$$slots:{default:[rt]},$$scope:{ctx:t}}}),S=new tt({props:{name:"suggested_improvements",tag:"textarea"}}),{c(){e=f("form"),Z&&Z.c(),a=p(),k(r.$$.fragment),n=p(),k(s.$$.fragment),o=p(),k(l.$$.fragment),i=p(),k(u.$$.fragment),c=p(),k(y.$$.fragment),I=p(),k(P.$$.fragment),x=p(),k(S.$$.fragment),T=p(),q=f("input"),A=p(),R=f("pre"),M=m(Q),V=p(),H=f("pre"),J=m(X),this.h()},l(t){e=d(t,"FORM",{});var f=$(e);Z&&Z.l(f),a=v(f),C(r.$$.fragment,f),n=v(f),C(s.$$.fragment,f),o=v(f),C(l.$$.fragment,f),i=v(f),C(u.$$.fragment,f),c=v(f),C(y.$$.fragment,f),I=v(f),C(P.$$.fragment,f),x=v(f),C(S.$$.fragment,f),T=v(f),q=d(f,"INPUT",{type:!0,value:!0,disabled:!0}),f.forEach(h),A=v(t),R=d(t,"PRE",{});var m=$(R);M=g(m,Q),m.forEach(h),V=v(t),H=d(t,"PRE",{});var p=$(H);J=g(p,X),p.forEach(h),this.h()},h(){_(q,"type","submit"),q.value="Sign in",q.disabled=j=!t[1]||t[2]},m(f,m){b(f,e,m),Z&&Z.m(e,null),E(e,a),D(r,e,null),E(e,n),D(s,e,null),E(e,o),D(l,e,null),E(e,i),D(u,e,null),E(e,c),D(y,e,null),E(e,I),D(P,e,null),E(e,x),D(S,e,null),E(e,T),E(e,q),b(f,A,m),b(f,R,m),E(R,M),b(f,V,m),b(f,H,m),E(H,J),U=!0,F||(B=G(t[5].call(null,e)),F=!0)},p(t,[r]){t[0]?Z?Z.p(t,r):(Z=et(t),Z.c(),Z.m(e,a)):Z&&(Z.d(1),Z=null);const n={};2048&r&&(n.$$scope={dirty:r,ctx:t}),u.$set(n);const s={};2048&r&&(s.$$scope={dirty:r,ctx:t}),P.$set(s),(!U||6&r&&j!==(j=!t[1]||t[2]))&&(q.disabled=j),(!U||8&r)&&Q!==(Q=JSON.stringify(t[3],void 0,2)+"")&&O(M,Q),(!U||16&r)&&X!==(X=JSON.stringify(t[4],void 0,2)+"")&&O(J,X)},i(t){U||(w(r.$$.fragment,t),w(s.$$.fragment,t),w(l.$$.fragment,t),w(u.$$.fragment,t),w(y.$$.fragment,t),w(P.$$.fragment,t),w(S.$$.fragment,t),U=!0)},o(t){N(r.$$.fragment,t),N(s.$$.fragment,t),N(l.$$.fragment,t),N(u.$$.fragment,t),N(y.$$.fragment,t),N(P.$$.fragment,t),N(S.$$.fragment,t),U=!1},d(t){t&&h(e),Z&&Z.d(),L(r),L(s),L(l),L(u),L(y),L(P),L(S),t&&h(A),t&&h(R),t&&h(V),t&&h(H),F=!1,B()}}}function st(t,l,i){let u,c,f,m;let p="";const{form:d,data:$,errors:g,isValid:h,isSubmitting:v}=M({extend:V({single:!0}),onError:t=>{console.error(t),i(0,p="Could not save")},validate:(_={name:B,email_address:X(B,Q)},Object.entries(_).map((([t,e])=>a=>{const r={};return r[t]=e(a[t]),r}))),onSubmit:async t=>{i(0,p="");const l=(u=((t,e)=>{for(var a in e||(e={}))n.call(e,a)&&o(t,a,e[a]);if(r)for(var a of r(e))s.call(e,a)&&o(t,a,e[a]);return t})({},t),c={referrer:document.referrer},e(u,a(c)));var u,c;for(let e in l){let t=l[e];""===t?t=null:isNaN(t)||(t=parseInt(t)),l[e]=t}await H.request("http://localhost:7011/graphql","\n\t\tmutation(\n\t\t\t$name: String!\n\t\t\t$email_address: String!\n\t\t\t$age: Int\n\t\t\t$gender: String\n\t\t\t$country: String\n\t\t\t$experience_rating: Int\n\t\t\t$suggested_improvements: String\n\t\t\t$referrer: String\n\t\t) {\n\t\t\tcreateSubmission(\n\t\t\t\tinput: {\n\t\t\t\t\tsubmission: {\n\t\t\t\t\t\tname: $name\n\t\t\t\t\t\temailAddress: $email_address\n\t\t\t\t\t\tage: $age\n\t\t\t\t\t\tgender: $gender\n\t\t\t\t\t\tcountry: $country\n\t\t\t\t\t\texperienceRating: $experience_rating\n\t\t\t\t\t\tsuggestedImprovements: $suggested_improvements\n\t\t\t\t\t\treferrer: $referrer\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t) {\n\t\t\t\tsubmission {\n\t\t\t\t\tid\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t",l),F("/thank-you",!0)}});var _;return J(t,$,(t=>i(3,f=t))),J(t,g,(t=>i(4,m=t))),J(t,h,(t=>i(1,u=t))),J(t,v,(t=>i(2,c=t))),[p,u,c,f,m,d,$,g,h,v]}class ot extends i{constructor(t){super(),u(this,t,st,nt,c,{})}}function lt(t){let e,a,r,n,s,o,l,i,u,c,O,y,I;return y=new ot({}),{c(){e=f("main"),a=f("p"),r=m("Completa questo breve questionario per darci la tua impressione."),n=p(),s=f("p"),o=f("span"),l=m("("),i=f("strong"),u=m("ps: "),c=m("quis fugiat officia nisi aute et. Irure reprehenderit proident fugiat\n\t\t\tlabore sint voluptate voluptate enim ad aliquip do elit. Nulla ad ex eiusmod ipsum consequat\n\t\t\tincididunt do non eu officia fugiat cillum nulla tempor.)"),O=p(),k(y.$$.fragment),this.h()},l(t){e=d(t,"MAIN",{});var f=$(e);a=d(f,"P",{});var m=$(a);r=g(m,"Completa questo breve questionario per darci la tua impressione."),m.forEach(h),n=v(f),s=d(f,"P",{});var p=$(s);o=d(p,"SPAN",{class:!0});var _=$(o);l=g(_,"("),i=d(_,"STRONG",{});var b=$(i);u=g(b,"ps: "),b.forEach(h),c=g(_,"quis fugiat officia nisi aute et. Irure reprehenderit proident fugiat\n\t\t\tlabore sint voluptate voluptate enim ad aliquip do elit. Nulla ad ex eiusmod ipsum consequat\n\t\t\tincididunt do non eu officia fugiat cillum nulla tempor.)"),_.forEach(h),p.forEach(h),O=v(f),C(y.$$.fragment,f),f.forEach(h),this.h()},h(){_(o,"class","text-muted")},m(t,f){b(t,e,f),E(e,a),E(a,r),E(e,n),E(e,s),E(s,o),E(o,l),E(o,i),E(i,u),E(o,c),E(e,O),D(y,e,null),I=!0},p:q,i(t){I||(w(y.$$.fragment,t),I=!0)},o(t){N(y.$$.fragment,t),I=!1},d(t){t&&h(e),L(y)}}}export default class extends i{constructor(t){super(),u(this,t,null,lt,c,{})}}
